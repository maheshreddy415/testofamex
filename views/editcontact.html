<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" type="text/css" href="css/bootstrap.css" />
        <link rel="stylesheet" type="text/css" href="css/main.css" />
    </head>
	
    <body>
	
        <div class='navbar navbar-default navbar-fixed-top'>
            <div class="container">
                <div class="navbar-header">
                    <a class="">Manage Contacts</a>
                    <button type='button' class='navbar-toggle collapsed' data-toggle='collapse' data-target='.navbar-collapse'>
                        <span class='sr-only'>Toggle navigation</span>
                        <span class='icon-bar'></span>
                        <span class='icon-bar'></span>
                        <span class='icon-bar'></span>
                    </button>
                </div>
                <ul class='nav navbar-nav navbar-right collapse navbar-collapse'>
                    <li><a href='/'>List Contacts</a></li>
                    <li><a href='addcontact'>Add Contact</a></li>
                </ul>
            </div>
        </div>
		
        <div class="container marT70" >
            <div class="row well">
                <div>
                    <h1 ><small class="colorBlue">Edit Contact</small></h1>
                </div>
                <div>
                    <form id="editcontactform" action="editcontact/edit" enctype="multipart/form-data" method="post">
                        <div class="form-group row">
                            <label class="col-sm-2 form-control-label" for="name">Name</label>
                            <div class="col-sm-10">
                                <input type="text" class="form-control" id="name" placeholder="Name" name="name" value="<%= data.name %>" required/>
                            </div>
                        </div>
                        <div class="form-group row">
                            <label class="col-sm-2 form-control-label" for="email">Email</label>
                            <div class="col-sm-10">
                                <input type="text" class="form-control" id="email" name="email" placeholder="Email" value="<%= data.email %>" required/>
                            </div>
                        </div>
                        <div class="form-group row">
                            <label class="col-sm-2 form-control-label" for="phone">Phone</label>
                            <div class="col-sm-10">
                                <input type="text" class="form-control" id="phone" name="phone" placeholder="Phone" value="<%= data.phone %>" />
                            </div>
                        </div>
                        <div class="form-group row">
                            <label class="col-sm-2 form-control-label" for="image">Image</label>
                            <div class="col-sm-10">
                                <input type="file" class="" id="image" name="image" />
                            </div>
                        </div>
                        <div class="form-group row">
                            <div class="col-sm-2"></div>
                            <div class="col-sm-10">
                                <button type="submit" class="btn btn-primary">Submit</button>
                            </div>

                            <input type="hidden" name="a" value="<%= data.id %>" />
                            <input type="hidden" name="preimage" value="<%= data.image %>" />
                        </div>
                    </form>

                </div>
            </div>
        </div>
		
        <div class="footer">

        </div>


        <script type="text/javascript" src="js/jquery-1.12.2.js" ></script>
        <script type="text/javascript" src="js/bootstrap/bootstrap.js" ></script>
        <script type="text/javascript" src="js/jquery.form.js" ></script>

        <script type="text/javascript" >
            $(document).ready(function() {
                $('#editcontactform').on('submit', function(e){
                    e.preventDefault();
                    $(this).ajaxSubmit({                                                                                                                 
                        error: function(xhr) {
                            $('#status').text('Error: ' + xhr.status);
                        },

                        success: function(response) {
                            console.log(response);
                            alert('Updated Successfully.');
                            window.location = '/';
                        }
                    });

                    return false;
                });
            });

        </script>
    </body>
</html>